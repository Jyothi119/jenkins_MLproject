pipeline {
    agent any 
    stages {
        stage('converting notebook file to python file') {
            steps {
                sh "C:\Users\pudot\Anaconda3\Scripts\jupyter.exe nbconvert --to script 'trainingML.ipynb'"
                    }
        }
        stage('creating docker image') {
            steps {
                sh "C:\Program Files\Docker\Docker\resources\bin\docker.exe build -t python_image:$BUILD_NUMBER ."
            }
        }
        stage ('running script in docker container') {
            steps {
                sh "C:\Program Files\Docker\Docker\resources\bin\docker.exe run python_image:$BUILD_NUMBER"
            }
        }
    }
      
}
